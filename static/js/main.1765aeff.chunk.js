(this["webpackJsonpdeadline-manager"]=this["webpackJsonpdeadline-manager"]||[]).push([[0],{122:function(e,t,n){},123:function(e,t,n){},124:function(e,t,n){},125:function(e,t,n){},127:function(e,t,n){"use strict";n.r(t);var a=n(3),i=n.n(a),s=n(23),r=n.n(s),o=n(8),l=n(9),c=n(11),u=n(10),m=n(12),v=n(43),d=n.n(v),h=n(24),p=n.n(h),g=(n(60),n(61),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).todaysDate=new Date,n.todaysDate.setHours(0,0,0,0),n.state={startDate:n.todaysDate,endDate:null,name:""},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"createEvent",value:function(e){e.preventDefault(),this.state&&this.state.name&&0!==this.state.name.length&&this.state.endDate&&this.state.startDate?(this.setState({startDate:this.todaysDate,endDate:null,name:""}),document.getElementById("input-event-name").value="",this.props.onAdd({name:this.state.name,startDate:new Date(this.state.startDate).getTime(),endDate:new Date(this.state.endDate).getTime()})):h.store.addNotification({title:"Missing parameter",message:"Please fill every field.",type:"danger",container:"top-right",dismiss:{duration:5e3}})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("form",{className:"add-event-form"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:"input-event-name"},"Event's name"),i.a.createElement("input",{type:"text",className:"form-control",onChange:function(t){return e.setState({name:t.target.value})},placeholder:"Name",id:"input-event-name",autoComplete:"off"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:"input-event-date-begin"},"Start date"),i.a.createElement(d.a,{selected:this.state.startDate,onChange:function(t){return e.setState({startDate:t})},id:"input-event-date-begin",autoComplete:"off"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:"input-event-date-end"},"End date"),i.a.createElement(d.a,{selected:this.state.endDate,onChange:function(t){return e.setState({endDate:t})},id:"input-event-date-end",autoComplete:"off"})),i.a.createElement("button",{className:"btn btn-primary",onClick:this.createEvent.bind(this)},"Submit")))}}]),t}(a.Component)),f=(n(122),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"timestampToDays",value:function(e){return Math.round(e/1e3/60/60/24)}},{key:"timestampToDate",value:function(e){var t=new Date(e);return(t.getDate()<10?"0":"")+t.getDate()+"/"+(t.getMonth()<9?"0":"")+(t.getMonth()+1)+"/"+t.getFullYear()}},{key:"getRemainingDays",value:function(e){return this.timestampToDays(e.endDate-(new Date).getTime())}},{key:"getTotalDays",value:function(e){return this.timestampToDays(e.endDate-e.startDate)}},{key:"displayEvents",value:function(){var e=this;return this.props.events&&0!==this.props.events.length?i.a.createElement("div",null,this.props.events.map((function(t,n){var a=e.getTotalDays(t),s=e.getRemainingDays(t);return i.a.createElement("div",{className:"event",key:n},i.a.createElement("div",{className:"row"},i.a.createElement("label",{className:"col"},e.timestampToDate(t.startDate)),i.a.createElement("label",{className:"float-right"},e.timestampToDate(t.endDate))),i.a.createElement("span",{className:"event-name"},t.name),i.a.createElement("div",{className:"event-progress-bar"},i.a.createElement("div",{className:"progress",style:{width:10*a+"px"}},i.a.createElement("div",{className:"progress-bar",role:"progressbar",style:{width:10*(a-s)+"px"},"aria-valuenow":s,"aria-valuemin":"0","aria-valuemax":a}))),s>0&&i.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.props.onEventRemove(n)}},"Remove"),s<=0&&i.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.props.onEventRemove(n)}},"Mark as done"))}))):i.a.createElement("p",null,"No event yet, add one below.")}},{key:"render",value:function(){return i.a.createElement("div",{className:"events-container"},i.a.createElement("h2",null,"Events"),this.displayEvents())}}]),t}(a.Component)),b=(n(123),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={events:localStorage.getItem("event-manager-events")?JSON.parse(localStorage.getItem("event-manager-events")):[]},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"onEventRemove",value:function(e){var t=this.state.events;t.splice(e,1),this.setState({events:t}),localStorage.setItem("event-manager-events",JSON.stringify(t))}},{key:"onEventAdd",value:function(e){var t=this.state.events;t.push(e),this.setState({events:t}),localStorage.setItem("event-manager-events",JSON.stringify(t))}},{key:"render",value:function(){return i.a.createElement("main",{className:"app"},i.a.createElement("h1",null,"Deadline Manager"),i.a.createElement(f,{events:this.state.events,onEventRemove:this.onEventRemove.bind(this)}),i.a.createElement(g,{onAdd:this.onEventAdd.bind(this)}))}}]),t}(a.Component)),E=(n(124),function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"snackbar"},i.a.createElement("div",{className:this.props.visible?"snackbar-content":"hide"},i.a.createElement("p",null,this.props.message),i.a.createElement("button",{className:"action-btn",onClick:this.props.onAccept},this.props.btnText),i.a.createElement("button",{className:"float-right",onClick:this.props.onClose},"Close")))}}]),t}(a.Component)),y=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function D(e){if("serviceWorker"in navigator){if(new URL("https://antoine-gannat.github.io/deadline-manager",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("https://antoine-gannat.github.io/deadline-manager","/service-worker.js");y?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):w(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):w(t,e)}))}else 0}function w(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var k=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={visible:!1,registrationWaiting:null},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){D({onUpdate:this.onUpdate.bind(this)})}},{key:"componentWillUnmount",value:function(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},{key:"onUpdate",value:function(e){this.setState({registrationWaiting:e.waiting,visible:!0})}},{key:"getNewContent",value:function(){this.setState({visible:!1}),this.state.registrationWaiting?(this.state.registrationWaiting.postMessage({type:"SKIP_WAITING"}),this.state.registrationWaiting.addEventListener("statechange",(function(e){"activated"===e.target.state&&window.location.reload()}))):console.error("No new content found.")}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(E,{visible:this.state.visible,btnText:"Refresh",message:"New version available !",onAccept:this.getNewContent.bind(this),onClose:function(){return e.setState({visible:!1})}}))}}]),t}(a.Component);n(125),n(126);r.a.render(i.a.createElement("main",null,i.a.createElement(p.a,null),i.a.createElement(b,null),i.a.createElement(k,null)),document.getElementById("root"))},54:function(e,t,n){e.exports=n(127)},60:function(e,t,n){}},[[54,1,2]]]);
//# sourceMappingURL=main.1765aeff.chunk.js.map